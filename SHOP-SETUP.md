# üõí –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞ –∏ —Å–∏—Å—Ç–µ–º—ã –∏–Ω–≤–µ–Ω—Ç–∞—Ä—è

## üìã –ß—Ç–æ –±—ã–ª–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ

### Backend:
1. **–¢–∞–±–ª–∏—Ü—ã –ë–î** (`backend/database/shop-inventory.sql`):
   - `shop_items` - –ø—Ä–µ–¥–º–µ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞
   - `player_inventory` - –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–æ–≤
   - `player_balance` - –±–∞–ª–∞–Ω—Å –∏–≥—Ä–æ–∫–æ–≤
   - `transactions` - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π

2. **API Endpoints**:
   - `/api/shop/items` - —Å–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–º–µ—Ç–æ–≤ –º–∞–≥–∞–∑–∏–Ω–∞
   - `/api/shop/balance` - –±–∞–ª–∞–Ω—Å –∏–≥—Ä–æ–∫–∞
   - `/api/shop/purchase` - –ø–æ–∫—É–ø–∫–∞ –ø—Ä–µ–¥–º–µ—Ç–∞
   - `/api/inventory` - –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞
   - `/api/inventory/check-online` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å–∞
   - `/api/inventory/use/:id` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–º–µ—Ç–∞

### Frontend:
1. **–ù–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã**:
   - `/shop` - –º–∞–≥–∞–∑–∏–Ω –ø—Ä–µ–¥–º–µ—Ç–æ–≤
   - `/inventory` - –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å –∏–≥—Ä–æ–∫–∞

2. **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
   - Header - –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—é

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç—å SQL –º–∏–≥—Ä–∞—Ü–∏—é

–í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ç–∞–±–ª–∏—Ü:

```bash
# Windows PowerShell
Get-Content backend\database\shop-inventory.sql | mysql -u –í–ê–®_–ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨ -p dragonlost_web
```

–ò–ª–∏ —á–µ—Ä–µ–∑ MySQL –∫–ª–∏–µ–Ω—Ç:
```sql
USE dragonlost_web;
SOURCE backend/database/shop-inventory.sql;
```

### 2. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

–°–µ—Ä–≤–µ—Ä —É–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –Ω–æ–≤—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å:

```bash
npm run dev
```

## üì¶ –ü—Ä–µ–¥–º–µ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞

–í –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–µ–¥–º–µ—Ç–æ–≤:

### üî´ –û—Ä—É–∂–∏–µ
- AK-47 (150 –º–æ–Ω–µ—Ç)
- LR-300 (200 –º–æ–Ω–µ—Ç)
- Bolt Action Rifle (180 –º–æ–Ω–µ—Ç)
- Python Revolver (100 –º–æ–Ω–µ—Ç)
- Custom SMG (120 –º–æ–Ω–µ—Ç)

### üõ°Ô∏è –ë—Ä–æ–Ω—è
- Hazmat Suit (80 –º–æ–Ω–µ—Ç)
- Metal Facemask (60 –º–æ–Ω–µ—Ç)
- Metal Chest Plate (70 –º–æ–Ω–µ—Ç)
- Heavy Plate Armor (250 –º–æ–Ω–µ—Ç)

### üî® –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- Jackhammer (90 –º–æ–Ω–µ—Ç)
- Chainsaw (100 –º–æ–Ω–µ—Ç)

### üì¶ –†–µ—Å—É—Ä—Å—ã
- Metal Fragments x1000 (50 –º–æ–Ω–µ—Ç)
- High Quality Metal x100 (80 –º–æ–Ω–µ—Ç)
- Sulfur x1000 (60 –º–æ–Ω–µ—Ç)
- C4 x5 (300 –º–æ–Ω–µ—Ç)
- Rocket x10 (400 –º–æ–Ω–µ—Ç)

### üíä –ú–µ–¥–∏–∫–∞–º–µ–Ω—Ç—ã
- Medical Syringe x5 (40 –º–æ–Ω–µ—Ç)
- Large Medkit x3 (35 –º–æ–Ω–µ—Ç)

### üéÅ –ù–∞–±–æ—Ä—ã
- Starter Kit (250 –º–æ–Ω–µ—Ç)
- Raider Kit (500 –º–æ–Ω–µ—Ç)
- Builder Kit (300 –º–æ–Ω–µ—Ç)

## üí∞ –°–∏—Å—Ç–µ–º–∞ –±–∞–ª–∞–Ω—Å–∞

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —É –≤—Å–µ—Ö –∏–≥—Ä–æ–∫–æ–≤ –±–∞–ª–∞–Ω—Å = 0.

### –ö–∞–∫ –Ω–∞—á–∏—Å–ª–∏—Ç—å –º–æ–Ω–µ—Ç—ã –∏–≥—Ä–æ–∫—É:

```sql
-- –ù–∞–π—Ç–∏ ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ Steam ID
SELECT id, username, steamid FROM users WHERE steamid = 'STEAM_ID_–ò–ì–†–û–ö–ê';

-- –î–æ–±–∞–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å
INSERT INTO player_balance (user_id, balance, total_earned) 
VALUES (USER_ID, 1000.00, 1000.00)
ON DUPLICATE KEY UPDATE 
  balance = balance + 1000.00,
  total_earned = total_earned + 1000.00;

-- –ò–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –±–∞–ª–∞–Ω—Å
UPDATE player_balance 
SET balance = balance + 1000.00, 
    total_earned = total_earned + 1000.00 
WHERE user_id = USER_ID;
```

## üéÆ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –∏–≥—Ä–æ–∫–æ–≤:

1. **–ê–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è** —á–µ—Ä–µ–∑ Steam
2. **–ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω** - –∫–Ω–æ–ø–∫–∞ "–ú–∞–≥–∞–∑–∏–Ω" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
3. **–í—ã–±—Ä–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã** –∏ –∫—É–ø–∏—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å –±–∞–ª–∞–Ω—Å)
4. **–û—Ç–∫—Ä—ã—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å** - –∫–ª–∏–∫ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚Üí "–ú–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å"
5. **–ó–∞–π—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä** –≤ –∏–≥—Ä–µ Rust
6. **–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã** - –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ –Ω–∞–∂–∞—Ç—å "–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç"

### –í–∞–∂–Ω–æ:
- ‚ö†Ô∏è **–ü—Ä–µ–¥–º–µ—Ç—ã –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–ª—å–∫–æ –±—É–¥—É—á–∏ –æ–Ω–ª–∞–π–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ!**
- –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏–≥—Ä–æ–∫–∞ –≤ –±–∞–∑–µ PlayerDatabase
- –ò–≥—Ä–æ–∫ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ–Ω–ª–∞–π–Ω, –µ—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—ã–ª–∞ –º–µ–Ω–µ–µ 5 –º–∏–Ω—É—Ç –Ω–∞–∑–∞–¥

## üîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RCON

–í —Ñ–∞–π–ª–µ `backend/src/routes/inventory.ts` –µ—Å—Ç—å TODO –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å RCON:

```typescript
// TODO: –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å RCON –¥–ª—è –≤—ã–¥–∞—á–∏ –ø—Ä–µ–¥–º–µ—Ç–∞ –≤ –∏–≥—Ä–µ
// –ü—Ä–∏–º–µ—Ä: await executeRCONCommand(`inventory.giveto ${steamid} ${item.rust_item_code} ${item.quantity}`);
```

–î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å RCON –∫–ª–∏–µ–Ω—Ç –¥–ª—è Rust
2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `executeRCONCommand`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Rust —Å–µ—Ä–≤–µ—Ä—É

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–µ–¥–º–µ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞
```javascript
GET /api/shop/items
// –§–∏–ª—å—Ç—Ä –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET /api/shop/items?category=weapon
```

### –ü–æ–ª—É—á–∏—Ç—å –±–∞–ª–∞–Ω—Å
```javascript
GET /api/shop/balance
// –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```

### –ö—É–ø–∏—Ç—å –ø—Ä–µ–¥–º–µ—Ç
```javascript
POST /api/shop/purchase
{
  "item_id": 1,
  "quantity": 1
}
```

### –ü–æ–ª—É—á–∏—Ç—å –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
```javascript
GET /api/inventory
// –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–Ω–ª–∞–π–Ω —Å—Ç–∞—Ç—É—Å
```javascript
GET /api/inventory/check-online
// –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç
```javascript
POST /api/inventory/use/:id
// –¢—Ä–µ–±—É–µ—Ç—Å—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∏–≥—Ä–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ–Ω–ª–∞–π–Ω
```

## üé® –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –í—ã–ø–∞–¥–∞—é—â–µ–µ –º–µ–Ω—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –ö–ª–∏–∫ –ø–æ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é
- "üéí –ú–æ–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å" - –ø–µ—Ä–µ—Ö–æ–¥ –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å
- "üö™ –í—ã—Ö–æ–¥" - –≤—ã—Ö–æ–¥ –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞

### –°—Ç–∞—Ç—É—Å –æ–Ω–ª–∞–π–Ω –≤ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–µ:
- üü¢ –ó–µ–ª–µ–Ω—ã–π - –∏–≥—Ä–æ–∫ –æ–Ω–ª–∞–π–Ω (–º–æ–∂–Ω–æ –ø–æ–ª—É—á–∞—Ç—å –ø—Ä–µ–¥–º–µ—Ç—ã)
- üî¥ –ö—Ä–∞—Å–Ω—ã–π - –∏–≥—Ä–æ–∫ –æ—Ñ—Ñ–ª–∞–π–Ω (–ø—Ä–µ–¥–º–µ—Ç—ã –ø–æ–ª—É—á–∏—Ç—å –Ω–µ–ª—å–∑—è)

## ‚öôÔ∏è –î–∞–ª—å–Ω–µ–π—à–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –º–æ–Ω–µ—Ç** –∑–∞ –∏–≥—Ä–æ–≤–æ–µ –≤—Ä–µ–º—è
2. **–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –±–æ–Ω—É—Å—ã**
3. **–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞**
4. **–ü—Ä–æ–º–æ–∫–æ–¥—ã**
5. **–°–∫–∏–¥–∫–∏ –∏ –∞–∫—Ü–∏–∏**
6. **–†–µ–π—Ç–∏–Ω–≥ –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π**

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–µ–¥–º–µ—Ç—ã –Ω–µ –≤—ã–¥–∞—é—Ç—Å—è –≤ –∏–≥—Ä–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –æ–Ω–ª–∞–π–Ω –ª–∏ –∏–≥—Ä–æ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω RCON (—Å–º. —Ä–∞–∑–¥–µ–ª –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏)

### –ë–∞–ª–∞–Ω—Å –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–∞–±–ª–∏—Ü–∞ `player_balance` —Å–æ–∑–¥–∞–Ω–∞

### –ü—Ä–µ–¥–º–µ—Ç—ã –º–∞–≥–∞–∑–∏–Ω–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –ø—Ä–∏–º–µ–Ω–µ–Ω –ª–∏ SQL —Å–∫—Ä–∏–ø—Ç
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ backend –∑–∞–ø—É—â–µ–Ω –∏ –¥–æ—Å—Ç—É–ø–µ–Ω
